var peekaboo=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0}),c.d(b,'render',function(){return i}),c.d(b,'players',function(){return e});var d=c(2);/**
 * @author Rafael Trevisan <rafael@trevis.ca>
 * @license
 * Copyright (c) 2018 Rafael Trevisan
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following players:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const f=c(!function(){var a=new Error('Cannot find module "knockout"');throw a.code='MODULE_NOT_FOUND',a}()),g=new d.a,{players:e}=g,h=()=>{apex.debug.info('Hello from APEX Peekaboo :: https://github.com/rafael-trevisan/apex-plugin-peekaboo'),f.applyBindings(g)},i=(a,b,c)=>{const{item:d}=c,e=$(`#${b}`),i=d&&$(`#${d}`),j=d&&(()=>{switch(!0){case $(i).hasClass('radio_group'):return'radio';case $(i).hasClass('checkbox_group'):return'checkbox';case $(i)[0].hasAttribute('data-checked-value'):return'simple-checkbox';default:return console.warn(`${d} is neither a "radio", a "checkbox" or a "simple-checkbox".`),null;}})(),k=(()=>{return d?`input[type="radio"][name="${d}"],input[type="checkbox"][name="${d}"]`:'input[type="radio"],input[type="checkbox"]'})();switch(!0){case'REGION'===a:$(e).addClass(`peekaboo-${a.toLowerCase()}`),$(e).attr('data-bind',`visible: peekaboo('${b}')`);break;case'TEXTFIELD'===a||'RADIOGROUP'===a||'CHECKBOX'===a||'SIMPLE_CHECKBOX'===a:$(e).addClass(`peekaboo-${a.toLowerCase()}`),$(e).parents('.t-Form-fieldContainer').attr('data-bind',`visible: peekaboo('${b}')`);break;default:console.warn(`Affected Element "${b}" type (${a}) is not supported by Peekaboo at this time.`);}$(k).each((a,c)=>{const e=$(c).attr('name'),h=(()=>{switch($(c).attr('type')){case'radio':return'radio';case'checkbox':return $(c)[0].hasAttribute('data-checked-value')?'simple-checkbox':'checkbox';default:console.warn(`${d} is neither a "radio", a "checkbox" or a "simple-checkbox".`);}return null})(),i=()=>{if(g[e]){let a;'object'==typeof g[e]()?(a=$v(e)?$v(e).split(':'):[],!g[e]().every((b)=>a.includes(b))&&g[e](a)):(a='simple-checkbox'===h?$(`#${e}`).prop('checked'):$v(e),g[e]()!==a&&g[e](a))}};switch($(c).attr('data-bind',`checked: ${e}`),$(`#${e}`).off('.peekaboo').on('change.peekaboo',i),!0){case'radio'===h||'simple-checkbox'===h:g[e]=f.observable();break;case'checkbox'===h:g[e]=f.observableArray();break;default:console.warn(`Triggering Element "${b}" is not supported by Peekaboo at this time.`);}}),g.players.push({id:b,triggeringElement:{id:d,type:j},visibility:c,visible:f.observable()}),$(window).off('.peekaboo').on('theme42ready.peekaboo',h)}},function(a,b,c){'use strict';const d=c(!function(){var a=new Error('Cannot find module "knockout"');throw a.code='MODULE_NOT_FOUND',a}());class e{constructor(){this.players=d.observableArray(),this.peekaboo=(a)=>d.pureComputed(()=>{const b=this.players().find((b)=>b.id===a),{condition:c,item:e,value:f,list:g,expr:h,actions:i}=b.visibility,{type:j}=b.triggeringElement,k=$(`#${e}`),l=e?`input[name=${e}]`:'input[type=radio],input[type=checkbox]',m=d.observableArray();let n=!1;switch($(l).each((a,b)=>{m.push(this[`${$(b).attr('name')}`]())}),'checkbox'===j&&-1<['==','!=','>','>=','<','<='].indexOf(c)&&console.warn('Heads Up! Checkboxes items should have their values checked for "NULL", "NOT NULL", "IN" and "NOT IN" only.'),!0){case-1<['==','!=','>','>=','<','<='].indexOf(c):if('radio'===j)n='undefined'!==this[e]()&&eval(`"${this[e]()}" ${c} "${f}"`);else if('simple-checkbox'===j){const a=!0===this[e]()?$(k).attr('data-checked-value'):$(k).attr('data-unchecked-value');n='undefined'!==a&&eval(`"${a}" ${c} "${f}"`)}break;case'IS_NULL'===c:n=!this[e]();break;case'IS_NOT_NULL'===c:n=!!this[e]();break;case'IS_IN_LIST'===c:'radio'===j?n=this[e]()&&-1<g.split(',').indexOf(this[e]()):'checkbox'===j&&(n=this[e]()&&g.split(',').some((a)=>this[e]().includes(a)));break;case'IS_NOT_IN_LIST'===c:'radio'===j?n=this[e]()&&0>g.split(',').indexOf(this[e]()):'checkbox'===j&&(n=this[e]()&&!g.split(',').some((a)=>this[e]().includes(a)));break;case'JAVASCRIPT_EXPRESSION'===c:n=eval(h);break;default:console.warn('An unexepcted condition has been found. Take a look into your players.'),console.warn(b);}return n&&!b.visible()?eval(i.onShow.code):!n&&b.visible()&&eval(i.onHide.code),b.visible(n),$(l).each((a,b)=>{$(b).triggerHandler('click')}),b.visible()},this)}}b.a=e}]);
//# sourceMappingURL=peekaboo.bundle.min.js.map